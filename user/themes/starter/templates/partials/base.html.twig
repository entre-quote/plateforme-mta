{% set theme_config = attribute(config.themes, config.system.pages.theme) %}
<!DOCTYPE html>
<html lang="{{ grav.language.getActive ?: theme_config.default_lang }}">
<head>
{% block head %}
    <meta charset="utf-8" />
    <title>{% if header.title %}{{ header.title|e('html') }} | {% endif %}{{ site.title|e('html') }}</title>

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {% include 'partials/metadata.html.twig' %}

    <link rel="apple-touch-icon" sizes="180x180" href="{{ url('theme://images/apple-touch-icon.png') }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ url('theme://images/favicon-32x32.png') }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ url('theme://images/favicon-16x16.png') }}">
    <link rel="manifest" href="{{ url('theme://images/site.webmanifest') }}">
    <link rel="mask-icon" href="{{ url('theme://images/safari-pinned-tab.svg"') }}" color="#000066">
    <meta name="msapplication-TileColor" content="#000066">
    <meta name="theme-color" content="#ffffff">

    <link rel="canonical" href="{{ page.url(true, true) }}" />

    {% block stylesheets %}
        {% do assets.addCss('theme://css/styles.css', 98) %}
    {% endblock %}
    {{ assets.css() }}

    {% block javascripts %}
        {% do assets.addJs('jquery', 100) %}
    {% endblock %}
    {{ assets.js() }}

{% endblock head%}
</head>
<body class="{{ page.header.body_classes }}">

{% include 'partials/_header.html.twig' %}

{% block body %}
    <main>
        <div class="container">
            {% block content %}{% endblock %}
        </div>
    </main>
{% endblock %}

{% include 'partials/_footer.html.twig' %}

{% block bottom %}
    {{ assets.js('bottom') }}
{% endblock %}

</body>
</html>
